"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8216],{8216:(A,h,a)=>{a.r(h),a.d(h,{CoursesPageModule:()=>k});var _=a(6814),g=a(95),n=a(451),l=a(1147),e=a(9212),p=a(6199),d=a(7371);function f(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",19)(1,"ion-icon",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.addCourseToWishList(r.id))}),e.qZA()()}}function m(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",19)(1,"ion-icon",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.removeCourseFromWishList(r.id))}),e.qZA()()}}function P(i,s){if(1&i&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-text"),e._uU(3),e.qZA()()()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" Discounted: \u20b9",t.discountedPrice," ")}}function T(i,s){if(1&i&&(e.TgZ(0,"ion-chip",23),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(),e.Oqu(t)}}function x(i,s){if(1&i&&(e.TgZ(0,"ion-col")(1,"ion-text"),e._uU(2," Tags: "),e.YNc(3,T,2,1,"ion-chip",22),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",t.tags)}}function v(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-icon",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.addCourseToCart(r.id))}),e.qZA()}}function Z(i,s){1&i&&e._UZ(0,"ion-icon",8)}function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-grid")(3,"ion-row")(4,"ion-col",12)(5,"ion-card-title"),e._uU(6),e.qZA()(),e.YNc(7,f,2,0,"ion-col",13)(8,m,2,0,"ion-col",13),e.qZA()(),e.TgZ(9,"ion-card-subtitle"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-card-content")(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"ion-text"),e._uU(16),e.qZA()()(),e.YNc(17,P,4,1,"ion-row",14)(18,x,4,1,"ion-col",14),e.qZA(),e.TgZ(19,"div",15),e.YNc(20,v,1,0,"ion-icon",16)(21,Z,1,0,"ion-icon",17),e.TgZ(22,"ion-icon",18),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.navigateToCourseDetailsPage(c.id))}),e.qZA()()()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(6),e.hij(" ",t.courseName,""),e.xp6(),e.Q6J("ngIf",0==o.checkWishListExistCourse(t.id)),e.xp6(),e.Q6J("ngIf",1==o.checkWishListExistCourse(t.id)),e.xp6(2),e.Oqu(t.author),e.xp6(6),e.hij(" Price: ",t.actualPrice," "),e.xp6(),e.Q6J("ngIf",o.checkIfDiscountIsActive(t.discountPercentage,t.discountEndDate)),e.xp6(),e.Q6J("ngIf",t.tags&&t.tags.length>0),e.xp6(2),e.Q6J("ngIf",0==o.checkCartExistCourse(t.id)),e.xp6(),e.Q6J("ngIf",1==o.checkCartExistCourse(t.id))}}function I(i,s){if(1&i&&(e.ynx(0),e.YNc(1,w,23,9,"ion-card",11),e.BQk()),2&i){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.arrayOfCourses)}}function O(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1,"No courses available."),e.qZA())}let C=(()=>{var i;class s{constructor(o,r,c){this.CoursesService=o,this.ProfileService=r,this.router=c,this.arrayOfCourses=[],this.Profile=[],this.shoppingCartTotalItem=0,this.cartPrice=0,this.searchTerm="",this.sortOption="lowest",this.nowDate=new Date}ngOnInit(){this.arrayOfCourses=this.CoursesService.getCourses(),this.Profile=this.ProfileService.getProfile(),this.shoppingCartTotalItem=this.Profile.Cart.length}ionViewDidEnter(){this.shoppingCartTotalItem=this.Profile.Cart.length,this.cartPrice=0,this.Profile.Cart.forEach(o=>{this.cartPrice=this.cartPrice+this.arrayOfCourses[o].discountedPrice})}checkIfDiscountIsActive(o,r){const c=new Date(r);return"0"!==o&&this.nowDate<c}addCourseToWishList(o){this.ProfileService.addToWishList(o),this.ProfileService.checkCartExistCourse(o)&&(this.cartPrice=this.cartPrice-this.arrayOfCourses[o].discountedPrice,this.removeCourseFromCart(o))}removeCourseFromWishList(o){this.ProfileService.removeCourseFromWishList(o)}checkWishListExistCourse(o){return this.ProfileService.checkWishListExistCourse(o)}addCourseToCart(o){this.shoppingCartTotalItem++,this.cartPrice=this.arrayOfCourses[o].discountedPrice+this.cartPrice,this.ProfileService.addToCart(o),this.ProfileService.removeCourseFromWishList(o)}removeCourseFromCart(o){this.shoppingCartTotalItem--,this.ProfileService.removeCourseFromCart(o)}checkCartExistCourse(o){return this.ProfileService.checkCartExistCourse(o)}searchCourses(){const o=this.searchTerm.toLowerCase();this.arrayOfCourses=this.CoursesService.getCourses().filter(r=>r.courseName.toLowerCase().includes(o)||r.author.toLowerCase().includes(o)||r.tags.some(c=>c.toLowerCase().includes(o)))}sortCourses(){"lowest"===this.sortOption?this.arrayOfCourses=this.arrayOfCourses.sort((o,r)=>parseFloat(o.actualPrice.replace("\u20b9",""))-parseFloat(r.actualPrice.replace("\u20b9",""))):"highest"===this.sortOption&&(this.arrayOfCourses=this.arrayOfCourses.sort((o,r)=>parseFloat(r.actualPrice.replace("\u20b9",""))-parseFloat(o.actualPrice.replace("\u20b9",""))))}navigateToCourseDetailsPage(o){this.router.navigate(["/course-details",o])}navigateToCartPage(){this.router.navigate(["/cardDetails"])}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(p.N),e.Y36(d.H),e.Y36(l.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-courses"]],decls:21,vars:6,consts:[["size","large"],["animated","true","placeholder","Search","show-clear-button","never",3,"ngModel","ngModelChange","input"],[3,"ngModel","ngModelChange","ionChange"],["value","lowest"],["value","highest"],[4,"ngIf","ngIfElse"],["slot","fixed","vertical","bottom","horizontal","end",3,"click"],["expand","block"],["name","cart","size","large"],[2,"position","absolute","top","-10px","right","-15px"],["noCourses",""],[4,"ngFor","ngForOf"],["size","11"],["size","1",4,"ngIf"],[4,"ngIf"],[2,"display","flex","justify-content","space-between","align-items","center"],["name","cart-outline","size","large",3,"click",4,"ngIf"],["name","cart","size","large",4,"ngIf"],["name","arrow-forward-circle-outline","size","large",3,"click"],["size","1"],["name","star-outline","size","large",3,"click"],["name","star","size","large","color","warning",3,"click"],["color","primary",4,"ngFor","ngForOf"],["color","primary"],["name","cart-outline","size","large",3,"click"]],template:function(o,r){if(1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e._uU(3,"Courses"),e.qZA()()(),e.TgZ(4,"ion-searchbar",1),e.NdJ("ngModelChange",function(u){return r.searchTerm=u})("input",function(){return r.searchCourses()}),e.qZA(),e.TgZ(5,"ion-segment",2),e.NdJ("ngModelChange",function(u){return r.sortOption=u})("ionChange",function(){return r.sortCourses()}),e.TgZ(6,"ion-segment-button",3),e._uU(7," Lowest Price "),e.qZA(),e.TgZ(8,"ion-segment-button",4),e._uU(9," Highest Price "),e.qZA()(),e.TgZ(10,"ion-content"),e.YNc(11,I,2,1,"ng-container",5),e.TgZ(12,"ion-fab",6),e.NdJ("click",function(){return r.navigateToCartPage()}),e.TgZ(13,"ion-button",7),e._UZ(14,"ion-icon",8),e.TgZ(15,"ion-badge",9),e._uU(16),e.qZA(),e.TgZ(17,"ion-badge"),e._uU(18),e.qZA()()(),e.YNc(19,O,2,0,"ng-template",null,10,e.W1O),e.qZA()),2&o){const c=e.MAs(20);e.xp6(4),e.Q6J("ngModel",r.searchTerm),e.xp6(),e.Q6J("ngModel",r.sortOption),e.xp6(6),e.Q6J("ngIf",r.arrayOfCourses&&r.arrayOfCourses.length>0)("ngIfElse",c),e.xp6(5),e.Oqu(r.shoppingCartTotalItem),e.xp6(2),e.Oqu(r.cartPrice)}},dependencies:[_.sg,_.O5,g.JJ,g.On,n.yp,n.YG,n.PM,n.FN,n.Zi,n.tO,n.Dq,n.hM,n.wI,n.W2,n.IJ,n.jY,n.Gu,n.gu,n.Nd,n.VI,n.cJ,n.GO,n.yW,n.wd,n.sr,n.QI,n.j9]}),s})();const y=[{path:"",component:C}];let F=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.Bz.forChild(y),l.Bz]}),s})(),k=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.ez,g.u5,n.Pc,F,l.Bz.forChild([{path:"",component:C}])]}),s})()}}]);